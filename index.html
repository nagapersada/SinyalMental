<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DV Naga Persada Player</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        body { margin: 0; padding: 0; font-family: 'Poppins', sans-serif; background: #000; color: #fff; height: 100vh; overflow: hidden; }

        /* Background */
        .bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('1000185027.jpg') no-repeat center center/cover;
            filter: blur(10px) brightness(0.4); z-index: -1;
        }

        /* Container Utama */
        #app { width: 100%; height: 100%; display: flex; flex-direction: column; position: relative; }

        /* Layar Pembuka */
        #cover-screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 50;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.5s;
        }
        .btn-start {
            padding: 15px 40px; border-radius: 30px; background: #FFD700; border: none;
            font-weight: bold; font-size: 18px; margin-top: 20px; cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); animation: pulse 1.5s infinite;
        }

        /* Player UI */
        #player-ui { flex: 1; display: none; flex-direction: column; padding: 20px; }
        
        /* Layout Portrait (HP Tegak) */
        .top-area { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .art-box { width: 220px; height: 220px; border-radius: 20px; border: 3px solid #FFD700; overflow: hidden; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .art-box img { width: 100%; height: 100%; object-fit: cover; }
        .song-title { color: #FFD700; font-size: 22px; font-weight: 700; margin-bottom: 5px; }
        .artist { font-size: 14px; color: #ccc; }

        /* Controls */
        .controls { display: flex; align-items: center; justify-content: center; gap: 30px; margin: 20px 0; }
        .btn-act { background: none; border: none; color: white; font-size: 35px; cursor: pointer; }
        .btn-play { width: 70px; height: 70px; border-radius: 50%; background: #FFD700; color: black; display: flex; align-items: center; justify-content: center; font-size: 30px; }

        /* Progress Bar */
        .prog-area { width: 100%; height: 5px; background: #444; border-radius: 5px; margin-bottom: 10px; position: relative; }
        .prog-bar { height: 100%; background: #FFD700; width: 0%; border-radius: 5px; }
        .input-seek { position: absolute; top: -5px; left: 0; width: 100%; height: 15px; opacity: 0; cursor: pointer; }

        /* Playlist */
        .playlist { flex: 0.6; background: rgba(30,30,30,0.8); border-radius: 20px 20px 0 0; overflow-y: auto; padding: 10px; border-top: 1px solid #FFD700; }
        .track { display: flex; align-items: center; padding: 12px; border-bottom: 1px solid #444; cursor: pointer; }
        .track.active { background: rgba(255, 215, 0, 0.2); color: #FFD700; font-weight: bold; border-left: 3px solid #FFD700; }
        .num { width: 30px; }
        .name { flex: 1; }

        /* Landscape Mode (HP Miring) */
        @media (orientation: landscape) {
            #player-ui { flex-direction: row; }
            .top-area { width: 45%; padding-right: 20px; }
            .playlist { width: 55%; border-radius: 20px; height: 100%; border-left: 1px solid #FFD700; border-top: none; }
            .art-box { width: 140px; height: 140px; margin-bottom: 10px; }
            .song-title { font-size: 18px; }
        }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

    <div class="bg"></div>

    <div id="cover-screen">
        <img src="logo.png" style="width:150px; margin-bottom:20px;">
        <h2 style="color:#FFD700">NAGA PERSADA</h2>
        <button class="btn-start" onclick="mulaiMusik()">MULAI MUSIK</button>
    </div>

    <div id="app">
        <div id="player-ui">
            <div class="top-area">
                <div class="art-box">
                    <img src="1000185022.jpg">
                </div>
                <div class="song-title" id="title">Judul Lagu</div>
                <div class="artist">DV Naga Persada</div>

                <div style="width:100%; margin-top:15px;">
                    <div class="prog-area">
                        <div class="prog-bar" id="bar"></div>
                        <input type="range" class="input-seek" min="0" max="100" value="0" id="seeker" oninput="geserLagu()">
                    </div>
                </div>

                <div class="controls">
                    <button class="btn-act" onclick="prev()"><i class="fas fa-step-backward"></i></button>
                    <button class="btn-act btn-play" onclick="playPause()">
                        <i class="fas fa-play" id="icon-play"></i>
                    </button>
                    <button class="btn-act" onclick="next()"><i class="fas fa-step-forward"></i></button>
                </div>
            </div>

            <div class="playlist" id="list-lagu"></div>
        </div>
    </div>

    <audio id="audio"></audio>

    <script>
        // DAFTAR JUDUL LAGU (Urutan sesuai file 1.mp3 s/d 17.mp3)
        const titles = [
            "Bukti Nyata", "Dari Ragu menjadi Maju", "Zero to Hero",
            "Dibawah Satu Komando", "Tim DV NP (Remix)", "Sang Leader",
            "DvNP joss (Remix)", "Keluarga Besar", "Kemenangan",
            "Pejuang Prestasi", "Maju Serentak", "Menang Asyik",
            "Peringkat", "Pesta Kemenangan", "Pintu Bahagia",
            "Satu Hati Satu Misi", "V.i.P"
        ];

        let index = 0;
        let isPlaying = false;
        const audio = document.getElementById('audio');
        const playBtn = document.getElementById('icon-play');
        const bar = document.getElementById('bar');
        const seeker = document.getElementById('seeker');

        // Fungsi Awal (Membuka Kunci Autoplay Browser)
        function mulaiMusik() {
            document.getElementById('cover-screen').style.opacity = '0';
            setTimeout(() => { 
                document.getElementById('cover-screen').style.display = 'none'; 
                document.getElementById('player-ui').style.display = 'flex';
            }, 500);
            
            loadLagu(0);
            // Paksa Play
            audio.play().then(() => {
                isPlaying = true;
                playBtn.className = "fas fa-pause";
            }).catch(e => {
                console.log("Browser block: tekan play manual");
            });
        }

        // Muat Lagu
        function loadLagu(i) {
            index = i;
            document.getElementById('title').innerText = titles[index];
            
            // PENTING: Nama file langsung angka (1.mp3, 2.mp3) tanpa folder
            audio.src = (index + 1) + ".mp3"; 
            
            renderList();
        }

        // Render Playlist
        function renderList() {
            const list = document.getElementById('list-lagu');
            list.innerHTML = "";
            titles.forEach((judul, i) => {
                let div = document.createElement('div');
                div.className = `track ${i === index ? 'active' : ''}`;
                div.innerHTML = `<div class="num">${i+1}</div><div class="name">${judul}</div>`;
                div.onclick = () => { loadLagu(i); audio.play(); isPlaying=true; playBtn.className="fas fa-pause"; };
                list.appendChild(div);
            });
        }

        // Kontrol
        function playPause() {
            if(audio.paused) {
                audio.play();
                isPlaying = true;
                playBtn.className = "fas fa-pause";
            } else {
                audio.pause();
                isPlaying = false;
                playBtn.className = "fas fa-play";
            }
        }

        function next() {
            index = (index + 1) % titles.length;
            loadLagu(index);
            audio.play();
            playBtn.className = "fas fa-pause";
        }

        function prev() {
            index = (index - 1 + titles.length) % titles.length;
            loadLagu(index);
            audio.play();
            playBtn.className = "fas fa-pause";
        }

        // Update Progress Bar
        audio.addEventListener('timeupdate', () => {
            if(audio.duration) {
                let pct = (audio.currentTime / audio.duration) * 100;
                bar.style.width = pct + "%";
                seeker.value = pct;
            }
        });

        // Geser Lagu
        function geserLagu() {
            let time = (seeker.value / 100) * audio.duration;
            audio.currentTime = time;
        }

        // Auto Next
        audio.addEventListener('ended', next);

        // Cek Error
        audio.addEventListener('error', (e) => {
            alert("Lagu tidak jalan! Pastikan nama file lagunya: " + (index+1) + ".mp3 (dan tidak ada folder mp3)");
        });

    </script>
</body>
</html>
